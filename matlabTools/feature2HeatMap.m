clear
clc
feature = [ 
0.00407258 0.0272823 0.0022291 0.00184403 0.0826774 0.00184403 0.00184401 0.00407258 0.00407256 0.00407258 0.00407256 0.0040726 0.00407257 0.00407256 0.0632515 0.00407259 0.00407256 0.0272823 0.00222911 0.00184403 0.0826774 0.00184402 0.00184401 0.00407253 0.00407254 0.00407257 0.00407255 0.00407257 0.00407257 0.00407254 0.0632514 0.00407256 0.398158 1.09268 0.348033 0.249373 0.00125358 0.00316749 0.689605 0.0016319 0.00342747 0.00191107 0.00204471 0.00389206 0.00228082 0.115063 0.0410823 0.00456191 0.115627 1.3507 0.00488219 0.00492884 0.00242247 0.0289511 0.00221328 0.00207939 0.0972337 0.00177686 0.00434591 0.00270104 0.00133389 0.32933 0.332962 0.397677 0.456837 0.406411 0.454327 0.451383 0.405061 0.751866 0.00116208 0.0231228 0.00171465 0.0019795 4.97204e-07 0.0287103 0.100535 0.00284321 0.0346545 0.00310204 0.0489079 0.17714 0.0487794 0.04724 0.00277298 0.00290183 0.00300966 0.00309431 0.00203772 0.00489174 0.00318402 0.399677 0.401766 0.452113 0.505888 1.09567 0.529317 0.491855 0.521141 0.499726 1.53334 0.812389 0.169473 0.00126566 0.00167072 4.89408e-07 0.00240233 4.3433e-07 0.00301057 0.140063 0.165601 0.0389454 0.0864257 0.0516041 0.119748 0.0799991 4.08544e-07 4.32614e-07 0.00332912 0.00345175 5.13973e-07 0.00359944 0.0537119 0.363385 0.486523 0.465024 0.526467 1.16362 1.92179 1.61525 0.933389 1.22044 0.223867 0.216201 0.128613 0.689099 0.00163943 0.0319617 4.21706e-07 0.00296964 0.125938 0.136567 0.277902 0.147105 0.210233 0.133179 0.201358 0.0854883 3.44199e-07 3.78732e-07 4.18983e-07 4.5922e-07 4.97216e-07 0.0039891 0.0384231 0.230736 0.436889 0.422963 0.283411 0.544536 1.58235 1.86345 0.534448 1.09705 0.263328 0.190072 0.138898 0.0475459 0.0226046 4.31832e-07 3.7959e-07 3.26942e-07 0.511634 0.0343096 0.261909 0.316467 0.129926 0.371428 0.109517 0.0567489 2.75959e-07 3.24519e-07 0.00648723 0.00823245 4.76578e-07 5.19383e-07 0.0412142 0.273291 0.445397 0.11061 0.215941 0.534493 1.87274 0.761389 1.12412 1.01719 0.395011 0.811062 0.08687 0.0752122 4.56778e-07 0.00294428 0.054159 2.72929e-07 0.38972 0.00819715 0.0618412 0.356727 0.391926 0.412203 0.1332 0.0909064 2.29316e-07 0.00178267 0.0508076 0.00169033 4.54142e-07 0.0322455 0.10597 0.0590368 0.0110325 0.561191 1.79292 1.90605 1.85646 0.850838 1.11319 1.18133 0.180536 0.579607 0.0478218 0.0861065 4.30623e-07 0.0423799 0.0144494 2.44845e-07 0.0681384 0.228671 0.286609 0.324978 0.436727 0.493154 0.260635 0.204444 0.0580647 0.0782611 0.0210145 0.000894616 0.0125396 0.0306824 0.315691 0.282162 0.39265 0.506252 0.518289 1.85395 1.52538 1.47302 1.15877 1.42926 0.0714363 5.54861e-07 0.0584329 0.157694 0.0251278 0.0127844 0.0358575 0.112135 0.302908 0.118292 0.377781 0.433171 0.517419 0.310728 0.203447 0.240886 0.113699 0.112819 0.0464559 0.043375 4.03003e-07 0.0467515 0.192879 0.242299 0.324224 0.373218 0.17922 1.67836 1.60366 1.56197 1.3567 0.466246 0.302586 0.546529 0.132696 0.0263278 0.137434 3.06886e-07 0.0351173 0.0271292 2.39723e-07 0.0637803 0.0683702 0.320996 0.350619 0.277397 0.288051 0.335247 0.118603 0.0727723 0.0128523 0.0684722 3.73535e-07 0.0546564 0.00910782 0.280646 0.0160327 0.128849 1.35184 1.27379 1.53573 1.4468 0.155403 0.1733 0.1794 0.551256 0.0221393 0.0417937 0.106946 0.0795838 2.308e-07 0.177527 0.123749 0.4237 0.167823 0.512221 0.441188 0.369057 0.323387 0.0513726 0.171418 0.379876 0.115115 0.103961 0.350564 0.0562781 0.0420451 0.257467 0.289003 1.1601 1.4505 1.72653 1.47449 0.253686 0.626454 0.280442 0.396178 0.11153 0.065594 0.149689 0.202543 0.0820804 0.0711129 0.00248192 0.09148 0.5162 0.160387 0.229051 0.514494 0.170945 0.197556 0.322288 0.0349204 0.121266 0.229171 0.131484 0.0376892 0.0890051 0.037748 0.104539 0.152421 1.1732 1.64226 1.33705 1.81927 0.323566 0.262095 1.27576 0.193762 0.0945921 1.18597 0.191327 0.541905 0.317294 0.0914666 0.302277 0.209656 0.568933 0.302367 0.199658 0.226951 0.277202 0.180013 0.0548405 0.158954 0.154883 0.43663 0.202379 0.234271 0.180453 0.0716692 0.750419 0.12638 0.0271863 0.87864 1.12869 1.53895 0.419615 0.200098 1.13244 0.160491 0.0987274 0.17762 0.274471 0.144557 0.348233 0.0662726 0.090684 0.103368 0.0901709 0.727966 0.275375 0.212472 0.239481 0.152479 0.326443 0.157473 0.400985 0.317232 0.311507 0.142002 0.130495 0.139362 0.710476 0.363537 0.202077 0.642573 0.917746 0.500149 0.786118 0.302866 0.500385 0.505182 0.0787482 0.193357 0.4779 0.441332 0.358673 0.00740276 0.073749 0.140876 0.0733884 0.139316 0.223135 0.406206 0.245063 0.0998008 0.199853 0.052765 0.0839022 0.264905 0.355354 0.32709 0.16831 0.306579 0.378784 0.0661043 0.587517 1.30394 1.42923 0.995799 1.34057 0.636118 0.0686511 0.0281965 0.061219 0.0757426 0.397092 0.340835 0.494508 0.0345411 0.11017 0.115478 0.286789 0.227596 0.344798 0.254244 0.211801 0.200743 5.0304e-07 0.0773362 0.108132 0.684127 0.467156 0.336614 0.28821 0.132529 0.0275213 0.115138 0.655306 0.773768 1.01342 0.969316 0.489615 0.173901 0.000775485 0.285235 0.225159 0.331642 0.455594 0.507982 0.127767 0.296106 0.233204 0.0680247 0.254752 0.200015 0.264174 0.322879 0.248728 0.223615 0.0301067 0.0290825 0.252319 0.284587 0.396946 0.498708 0.273589 0.0467016 0.0534693 0.50651 0.84232 0.365648 0.466618 0.566713 1.24143 0.125894 0.0242501 0.133996 0.0951342 0.0550302 0.452321 0.473846 0.262726 0.127445 4.01926e-07 0.121701 0.172793 0.294352 0.315992 0.618484 0.236033 0.195701 0.00713637 0.106743 0.114837 0.234833 0.446435 0.49971 0.393081 0.36968 0.421868 0.140113 0.285775 0.464357 0.942912 0.576166 0.362427 0.253483 0.113994 0.27701 0.11089 0.159091 0.151062 0.436046 0.454536 0.120962 0.283855 0.246137 0.331749 0.63183 0.374525 0.849392 0.868245 0.187096 0.15202 0.161182 0.422814 0.292427 0.434432 0.503362 0.327106 0.133965 0.291967 0.688883 0.174485 0.836383 0.545649 0.921086 0.383275 0.259103 0.0693791 0.092285 0.0262314 0.420941 0.226796 0.183349 0.55489 0.367789 0.37129 0.17048 0.176556 0.27464 0.578009 0.849529 0.264963 0.79234 0.135641 0.235353 0.167001 0.195797 0.855588 0.488517 0.378525 0.286159 0.158323 0.429144 0.300429 0.320958 0.394806 0.632 0.224952 0.214145 0.0510421 0.0752602 0.0358755 0.0610547 0.179312 0.0713059 0.133029 0.168552 0.0546083 0.162987 0.267212 0.621591 0.617174 0.754585 0.854366 0.227694 0.530784 0.204954 0.112992 0.400719 0.425443 0.483985 0.292846 0.222412 0.142708 0.510509 0.32859 0.307664 0.407593 0.173123 0.152954 0.0699513 0.0660762 0.0900934 0.0552402 0.17751 0.0457951 0.00554551 0.0616698 0.0465241 0.289976 0.0574325 0.242202 0.279322 0.79564 0.862058 0.682785 0.890819 0.861075 0.677141 0.449991 0.0455636 0.141148 0.0593994 0.213822 0.177255 0.0789579 0.133774 0.142048 0.180448 0.17056 0.318877 0.200471 0.12019 0.0872646 0.078796 0.133816 0.0541744 0.0231959 3.19253e-07 0.0277842 4.20867e-07 0.0701482 0.299841 0.832082 0.636755 0.805275 0.5524 0.918973 0.741118 0.320779 4.9339e-07 0.548454 0.128284 0.272747 0.00635763 0.314869 0.0903567 0.0509958 0.0714459 0.202706 0.160916 0.182392 0.170913 0.216824 0.0653527 0.242026 0.265908 0.0526789 0.140668 0.0971039 0.0828502 0.0997843 0.259186 0.332113 0.127169 0.00137146 0.420718 1.05712 0.990987 0.947287 0.870686 0.765802 0.309322 0.50418 0.472354 0.252067 0.0448539 0.452961 0.202289 0.0885136 0.0534699 0.103403 0.154575 0.204724 0.167628 0.239204 0.231503 0.135263 0.16312 0.012387 0.088685 0.141484 0.352225 0.00604219 0.0913786 0.152712 0.086836 0.559962 0.278939 0.844957 0.909 0.507459 0.68199 0.520046 0.841324 0.556288 0.0912996 0.0588142 0.207316 0.171269 0.204948 0.130474 0.144134 0.227291 0.204179 0.237124 0.282627 0.257593 0.208735 0.0735234 0.0409395 0.0360255 0.0270693 0.0928068 0.127433 0.00647767 0.0420386 0.70408 0.31055 0.140217 0.940362 0.90035 0.496362 0.53194 0.695195 0.180794 0.301928 0.0378662 0.0898399 0.937585 8.26743e-06 0.249203 0.216465 0.000512072 0.0437002 0.246061 0.19278 0.222656 0.120818 0.234757 0.0550386 0.0346957 3.73567e-07 3.92502e-07 0.0826338 0.130696 4.84918e-07 0.0922875 0.0424091 0.104374 0.340011 0.777943 0.493561 0.821378 1.25707 0.271692 0.753133 0.298843 0.785903 0.232977 0.431211 0.335925 0.132803 0.27796 0.59222 0.000149135 0.106304 0.0186516 0.163696 0.119997 0.0681131 0.0173207 0.0455472 0.210501 0.0351509 0.0160181 0.0641155 0.112123 0.397826 0.535308 0.147495 0.0393963 0.251143 0.0783854 0.910844 0.828535 0.0444717 1.09738 1.00602 1.10961 1.03238 0.700233 0.589953 0.167474 0.589842 0.0642929 0.0272624 0.252639 0.0978335 0.00294555 0.0175403 0.773964 4.4371e-07 0.0458634 0.0378256 4.40917e-07 0.0180377 0.200446 0.0176202 0.197117 0.404539 0.752662 0.758214 0.735427 0.21192 0.0388486 0.580756 0.714028 0.273307 0.455762 0.416275 0.578245 0.311636 0.556585 0.283962 0.52619 1.01455 0.338322 0.315541 0.428436 0.351395 0.0857168 0.094786 0.308123 0.236678 0.267003 0.0315801 0.823811 0.03023 1.02151 0.342891 0.249981 0.508287 0.400522 0.83674 0.788816 0.866935 0.108225 0.402898 0.200835 0.268907 0.801912 0.0481134 0.255182 0.820554 0.883389 0.552893 0.491581 0.4158 0.858461 0.920334 0.953327 1.00215 0.822075 0.943686 0.0998018 0.244597 0.865343 0.248623 0.0337533 0.35705 1.09608 0.475004 0.470935 0.693455 1.0246 1.07268 0.795064 0.834877 1.19364 1.32686 0.982678 1.01642 1.17147 1.14934 0.454014 0.40604 0.77317 0.248118 1.04638 1.43999 0.813764 1.20555 0.628274 0.971565 0.846885 0.919101 0.842599 0.839798 0.915706 0.839258 0.243261 0.868588 0.951621 1.44932 1.37891 1.45416 1.39348 1.53735 1.42517 1.43458 1.11454 1.08636 1.12547 0.550765 1.1062 1.0101 0.622324 1.4451 0.987778 0.808272 0.808205 1.37872 0.804412 1.39847 1.19001 1.21188 0.903203 0.836095 0.914473
];
[feature, ps] = mapminmax(feature, 0, 255);
fea = reshape(feature, sqrt(length(feature)), sqrt(length(feature)));
fea = fea';
fea = imresize(fea, [64, 64]);
% surf(fea)

% mesh(fea)
% xlabel('x-axis')
% ylabel('y-axis')
% zlabel('z-axis')

fea = floor(fea);

modelName = 'chair_0026';

img(:,:,1) = uint8(fea);
img(:,:,2) = uint8(fea);
img(:,:,3) = uint8(fea);

imshow(img)

% imwrite(img,[modelName '.jpg']);

disp(['done'])

saveImgWithoutPadding(fea,[modelName '.png']);

%% I intend to use the GMM to find the track failed
% feaData = zeros(numel(fea),3);
% 
% for i = 1:size(fea,1)
%     for j=1:size(fea,2)
%         ind = (i - 1) * size(fea,2) + j;
%         feaData(ind,:) = [j,i,fea(i,j)];
%     end
% end
% 
% GMModel = fitgmdist(feaData,3);

% GMModel